"use strict";(self.webpackChunkgw2_bingo=self.webpackChunkgw2_bingo||[]).push([[691],{3417:function(n,e,t){function r(n,e){var t="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(t)return(t=t.call(n)).next.bind(t);if(Array.isArray(n)||(t=function(n,e){if(!n)return;if("string"==typeof n)return u(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return u(n,e)}(n))||e&&n&&"number"==typeof n.length){t&&(n=t);var r=0;return function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}t.d(e,{c:function(){return o},J:function(){return i}});var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",o=function(n){if(9!==n.length)return"";for(var e,t=[],u=r(n);!(e=u()).done;){var o=e.value;t.push(3&o),t.push(o>>2&3),t.push(o>>4&3),t.push(o>>6&3)}for(var i="",l=0;l<t.length;l+=3)i+=a.charAt(t[l]+(t[l+1]<<2)+(t[l+2]<<4));return i},i=function(n){if(12!==n.length)return[];for(var e,t=[],u=r(n.split(""));!(e=u()).done;){var o=e.value,i=a.indexOf(o);if(-1===i)return[];t.push(3&i),t.push(i>>2&3),t.push(i>>4&3)}for(var l=[],c=0;c<t.length;c+=4)l.push(t[c]+(t[c+1]<<2)+(t[c+2]<<4)+(t[c+3]<<6));return l}},8162:function(n,e,t){t.d(e,{AR:function(){return r},Yi:function(){return M},aS:function(){return c},nD:function(){return b},Z:function(){return C},jf:function(){return g},Y1:function(){return l},uR:function(){return p},Fz:function(){return v}});var r,u=t(3366),a=t(1597),o=["jsonId"],i=function(){return(0,a.useStaticQuery)("77230047").allFractalsJson.nodes.map((function(n){var e=n.jsonId,t=(0,u.Z)(n,o);return Object.assign({id:e},t)}))},l=function(){return i().slice(1)},c=function(n){return n<=0||n>=100?0:n<=25?1:n<=50?2:n<=75?3:4},s=Date.UTC(2022,1,28),f=function(){return(0,a.useStaticQuery)("1491269856")},d=function(n){var e=n.getTime()-s;return(Math.floor(e/864e5)+14)%15},m=function(n){return f().allDailiesJson.nodes.map((function(n){return[n._0,n._1,n._2]}))[d(n)]},h=function(n){return f().allRecsJson.nodes.map((function(n){return[n._0,n._1,n._2]}))[d(n)]},p=function(){return m(new Date)},v=function(){return h(new Date)};!function(n){n.Normal="Normal",n.CM="CM",n.Both="Both"}(r||(r={}));var y=function(){return(0,a.useStaticQuery)("1138866218")},g=function(){return y().allFieldsJson.nodes},C=function(){return y().allFieldsJson.totalCount},M=function(n,e){if(e.length<9)return[];for(var t=[];t.length<9;){var r=e[Math.floor(Math.random()*e.length)],u=n.indexOf(r);t.includes(u)||t.push(u)}return t},b=function(n,e){var t,u,a=e.fractal,o=e.mode,i=e.encounter,l=e.event,c=n.find((function(n){return n.name===a})),s=o===r.CM?(c?null!==(t=c.displayCM)&&void 0!==t?t:c.name:a)+" CM":c?null!==(u=c.display)&&void 0!==u?u:c.name:a;return{title:i?s+" - "+i:s,content:l}}},6738:function(n,e,t){t.r(e);var r=t(2982),u=t(7294),a=t(5430),o=t(6038),i=t(3417),l=t(8162);e.default=function(){var n=(0,l.Y1)(),e=(0,l.uR)(),t=(0,l.Fz)(),c=(0,l.jf)(),s=(0,u.useMemo)((function(){return[].concat((0,r.Z)(n.map((function(n){var r,u=n.id,a=n.name,o=n.display,i=n.scales;return{fractal:a,display:null!=o?o:a,isCM:!1,hasCM:n.hasCM,isDaily:e.includes(u),rec:(0,l.aS)(null!==(r=i.find((function(n){return t.includes(n)})))&&void 0!==r?r:0)}})).sort((function(n,e){return n.display.localeCompare(e.display)}))),(0,r.Z)(n.filter((function(n){return n.hasCM})).map((function(n){var t=n.id,r=n.name,u=n.displayCM;return{fractal:r,display:(null!=u?u:r)+" CM",hasCM:!0,isCM:!0,isDaily:e.includes(t),rec:0}}))))}),[n,e,t]),f=(0,u.useState)((function(){return s.map((function(n){var e=n.hasCM,t=n.isCM,r=n.isDaily;return t||!e&&r}))})),d=f[0],m=f[1],h=function(){return(0,i.c)((0,l.Yi)(c,function(n,e,t){var r=e.some((function(n,e){var r=n.isCM;return t[e]&&!r})),u=e.some((function(n,e){var r=n.isCM;return t[e]&&r}));return n.filter((function(n){var a=n.fractal,o=n.mode;switch(a){case"All":return o!==l.AR.CM||u;case"Dailies":return r;default:return e.some((function(n,e){return t[e]&&n.fractal===a&&(o===l.AR.Both||o===l.AR.CM&&n.isCM||(!o||o===l.AR.Normal)&&!n.isCM)}))}}))}(c,s,d)))},p=(0,u.useState)(h),v=p[0],y=p[1];return u.createElement(a.Ar,{isHome:!0},u.createElement(o.nv,{align:"center"},u.createElement("i",null,"Such fun! It's fantastic, isn't it?")," ~Viirastra"),u.createElement(o.Qj,{to:"/v1/card?"+v,className:a.W0.BW,onMouseDown:function(){return y(h())}},"Generate Bingo"),u.createElement(a.rj,{className:a.W0.BW},s.map((function(n,e){var t=n.display,i=n.isDaily,l=n.rec;return u.createElement(o.XZ,{key:e,checked:d[e],onChange:function(n){d[e]=n,m((0,r.Z)(d)),y(h())}},u.createElement(a.kC,{direction:"row",align:"center"},u.createElement("span",null,t),i?u.createElement("code",{className:a.W0.FO}," [D]"):null,l>0?u.createElement("code",{className:a.W0.FO}," [R",l,"]"):null))}))),u.createElement(o.nv,null,"This page allows you to generate a bingo card for your Fractal runs."),u.createElement(o.nv,null,"First time here? See ",u.createElement(o.rU,{to:"/how-to"},"How to play"),"."),u.createElement(o.nv,null,"Currently we feature a total of ",c.length," different bingo fields! You can see all of them ",u.createElement(o.rU,{to:"/fields"},"here"),"."),u.createElement(o.nv,null,"Got good ideas? Check the ",u.createElement(o.rU,{to:"https://github.com/Zerthox/gw2-bingo"},"GitHub Repo"),"."))}}}]);
//# sourceMappingURL=component---src-pages-index-tsx-5a0a3e385a32adc1d63e.js.map